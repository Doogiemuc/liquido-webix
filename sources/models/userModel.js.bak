/** data model for the currently logged in user */

import conf from 'liquidoConfig'

const userModel = {
  userEMail: undefined,
	userId: undefined,
	accessToken: undefined,
	onBeforeAjaxEvent = undefined,
	
	login(user, pass) {
	  console.log("setLogin(", user, "*****", ")")
		this.userEMail = user
		this.accessToken = 'Basic ' + btoa(username + ':' + password)   // btoa - base64 encoding
		
		
		
		//Load user data from backend
		
		//TOOD: this.userId = 
	},
	
	logout() {
		this.userEMail = undefined
		this.userId = undefined
		this.accessToken = undefined
		if (this.onBeforeAjaxEvent !== undefined) webix.detachEvent(this.onBeforeAjaxEvent)
	}

}

if (conf.env === "DEV") {
	console.log("DEVELPMENT MODE")
	userModel.setLogin(conf.defaultUser, conf.defaultPass)
}

expost default userModel